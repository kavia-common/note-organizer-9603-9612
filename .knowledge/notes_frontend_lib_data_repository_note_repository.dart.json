{"is_source_file": true, "format": "Dart", "description": "This file defines the NoteRepository class that implements data access methods for 'Note' objects, using a SQLite database via sqflite package, as well as an in-memory implementation for testing purposes. It declares an interface INoteRepository and provides methods to create, retrieve, update, delete, and pin notes.", "external_files": ["package:sqflite/sqflite.dart", "package:notes_frontend/data/db/app_database.dart", "package:notes_frontend/data/db/notes_schema.dart", "package:notes_frontend/models/note.dart"], "external_methods": ["Database.query", "Database.insert", "Database.update", "Database.delete", "Note.fromMap", "Note.copyWith", "Note.toInsertMap", "Note.toUpdateMap"], "published": ["INoteRepository", "NoteRepository", "MemoryNoteRepository"], "classes": [{"name": "INoteRepository", "description": "An interface defining methods for retrieving and modifying notes, including fetching all notes, fetching by ID, creating, updating, deleting, and pinning notes."}, {"name": "NoteRepository", "description": "A class implementing INoteRepository that interacts with an SQLite database via sqflite."}, {"name": "MemoryNoteRepository", "description": "An in-memory implementation of INoteRepository, useful for widget testing and prototyping."}], "methods": [{"name": "getAllNotes", "description": "Fetches all notes from the database or in-memory storage, ordered with pinned notes first, then by updated timestamp."}, {"name": "getNoteById", "description": "Retrieves a note by its ID; returns null if not found."}, {"name": "createNote", "description": "Creates a new note with specified title, content, and pinned status; inserts into database or in-memory list."}, {"name": "updateNote", "description": "Updates an existing note in the database or in-memory list."}, {"name": "deleteNote", "description": "Deletes a note by its ID."}, {"name": "setPinned", "description": "Sets the pinned status of a note by ID."}], "calls": ["database.database", "db.query", "db.insert", "db.update", "db.delete", "getNoteById", "Note.fromMap", "Note.copyWith", "Note.toInsertMap", "Note.toUpdateMap"], "search-terms": ["note repository", "SQLite database", "NotesSchema", "INoteRepository", "createNote", "setPinned"], "state": 2, "file_id": 34, "knowledge_revision": 79, "git_revision": "", "hash": "2d89cf8c4ce211abec3866ea279ac4c5", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/lib/data/repository/note_repository.dart", "revision_history": [{"79": ""}]}