{"is_source_file": true, "format": "Dart", "description": "This file defines an abstract repository interface and its implementation for managing 'Note' objects in a note-taking application. It includes methods for CRUD operations, toggling pin status, and resource management, with two implementations: one using SQLite via the sqflite package and a mock in-memory repository for testing.", "external_files": ["../../models/note.dart", "../db/app_database.dart", "../db/notes_schema.dart", "package:flutter/foundation.dart", "package:sqflite/sqflite.dart"], "external_methods": ["Note.fromDbMap", "Note.toDbMap", "Note.copyWith", "AppDatabase.instance", "AppDatabase.close"], "published": ["INoteRepository", "SqfliteNoteRepository", "MemoryNoteRepository"], "classes": [{"name": "INoteRepository", "description": "Abstract interface defining CRUD operations and other methods for note management."}, {"name": "SqfliteNoteRepository", "description": "SQLite-based implementation of INoteRepository for persistent storage."}, {"name": "MemoryNoteRepository", "description": "In-memory implementation of INoteRepository for testing or preview purposes."}], "methods": [{"name": "getAll", "description": "Fetches all notes, sorted with pinned notes first, then by last updated descending."}, {"name": "getById", "description": "Retrieves a note by its ID, or null if not found."}, {"name": "create", "description": "Creates a new note with specified title, content, and pin status."}, {"name": "update", "description": "Updates an existing note; throws error if the note has no ID or is not found."}, {"name": "delete", "description": "Deletes a note by its ID."}, {"name": "togglePinned", "description": "Toggles the pinned status of a note and updates it."}, {"name": "dispose", "description": "Closes or cleans up underlying resources."}], "calls": ["AppDatabase.instance", "db.query", "db.insert", "db.update", "db.delete", "Note.fromDbMap", "Note.toDbMap", "Note.copyWith", "AppDatabase.close"], "search-terms": ["NoteRepository", "SQLite", "CRUD", "pinned notes", "in-memory repository", "notes_schema", "database query"], "state": 2, "file_id": 22, "knowledge_revision": 54, "git_revision": "", "hash": "7003d6fb4d45e1792a9dc987156af06d", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/lib/data/repository/note_repository.dart", "revision_history": [{"54": ""}]}